{
  "resourceSpans": [
    {
      "resource": {
        "attributes": [
          {
            "key": "service.name",
            "value": {
              "stringValue": "ai-agent-service"
            }
          },
          {
            "key": "service.version",
            "value": {
              "stringValue": "2.0.0"
            }
          }
        ]
      },
      "scopeSpans": [
        {
          "scope": {
            "name": "opentelemetry.instrumentation.genai",
            "version": "1.0.0"
          },
          "spans": [
            {
              "traceId": "fullspec123",
              "spanId": "span-llm-1",
              "name": "llm.generate",
              "kind": "SPAN_KIND_INTERNAL",
              "startTimeUnixNano": "1737110400000000000",
              "endTimeUnixNano": "1737110405000000000",
              "attributes": [
                {
                  "key": "gen_ai.system",
                  "value": {
                    "stringValue": "anthropic"
                  }
                },
                {
                  "key": "gen_ai.request.model",
                  "value": {
                    "stringValue": "claude-3-opus"
                  }
                },
                {
                  "key": "gen_ai.input.messages",
                  "value": {
                    "stringValue": "[{\"role\": \"system\", \"parts\": [{\"type\": \"text\", \"content\": \"You are an expert software engineer with deep knowledge of Python and distributed systems.\"}]}, {\"role\": \"user\", \"parts\": [{\"type\": \"text\", \"content\": \"Explain how to implement a distributed cache using Redis.\"}, {\"type\": \"text\", \"content\": \"Include code examples.\"}]}]"
                  }
                },
                {
                  "key": "gen_ai.output.messages",
                  "value": {
                    "stringValue": "[{\"role\": \"assistant\", \"parts\": [{\"type\": \"text\", \"content\": \"Here's a comprehensive guide to implementing a distributed cache using Redis...\"}]}]"
                  }
                },
                {
                  "key": "gen_ai.usage.input_tokens",
                  "value": {
                    "intValue": 150
                  }
                },
                {
                  "key": "gen_ai.usage.output_tokens",
                  "value": {
                    "intValue": 500
                  }
                }
              ],
              "status": {
                "code": "STATUS_CODE_OK"
              }
            },
            {
              "traceId": "fullspec123",
              "spanId": "span-llm-2",
              "parentSpanId": "span-llm-1",
              "name": "llm.followup",
              "kind": "SPAN_KIND_INTERNAL",
              "startTimeUnixNano": "1737110406000000000",
              "endTimeUnixNano": "1737110410000000000",
              "attributes": [
                {
                  "key": "gen_ai.system",
                  "value": {
                    "stringValue": "openai"
                  }
                },
                {
                  "key": "gen_ai.request.model",
                  "value": {
                    "stringValue": "gpt-4"
                  }
                },
                {
                  "key": "gen_ai.system_instructions",
                  "value": {
                    "stringValue": "[{\"parts\": [{\"type\": \"text\", \"content\": \"You are a code reviewer. Analyze the provided code for best practices.\"}]}]"
                  }
                },
                {
                  "key": "gen_ai.input.messages",
                  "value": {
                    "stringValue": "[{\"role\": \"user\", \"parts\": [{\"type\": \"text\", \"content\": \"Review this Redis implementation for potential issues.\"}]}]"
                  }
                }
              ],
              "status": {
                "code": "STATUS_CODE_OK"
              }
            },
            {
              "traceId": "fullspec123",
              "spanId": "span-tool-1",
              "parentSpanId": "span-llm-1",
              "name": "tool.redis_query",
              "kind": "SPAN_KIND_CLIENT",
              "startTimeUnixNano": "1737110403000000000",
              "endTimeUnixNano": "1737110404000000000",
              "attributes": [
                {
                  "key": "tool.name",
                  "value": {
                    "stringValue": "redis_query"
                  }
                },
                {
                  "key": "tool.input",
                  "value": {
                    "stringValue": "{\"command\": \"GET\", \"key\": \"cache:config\"}"
                  }
                }
              ],
              "status": {
                "code": "STATUS_CODE_OK"
              }
            }
          ]
        }
      ]
    }
  ]
}
